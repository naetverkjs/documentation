(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{61:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return i})),t.d(n,"default",(function(){return p}));var o=t(2),r=(t(0),t(74));const a={id:"components",title:"Components"},c={unversionedId:"components",id:"components",isDocsHomePage:!1,title:"Components",description:"Components allow a simplified development process by combining the closely related functions of building and processing nodes.",source:"@site/docs\\04_components.md",slug:"/components",permalink:"/documentation/docs/components",editUrl:"https://github.com/naetverkjs/documentation/blob/master/docs/04_components.md",version:"current"},i=[{value:"Component registration:",id:"component-registration",children:[]},{value:"Node builders",id:"node-builders",children:[]},{value:"Node workers",id:"node-workers",children:[]}],s={rightToc:i};function p({components:e,...n}){return Object(r.b)("wrapper",Object(o.a)({},s,n,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Components allow a simplified development process by combining the closely related functions of building and processing nodes."),Object(r.b)("p",null,"A Component contain a builder and a worker method"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-typescript"}),"class MyComponent extends Naetverk.Component {\n  constructor() {\n    super('My Component'); // name\n  }\n\n  builder(node) {\n    /// modify the node\n  }\n\n  worker(node, inputs, outputs) {\n    /// process data\n  }\n}\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"builder")," runs once creating a node, the ",Object(r.b)("inlineCode",{parentName:"p"},"worker")," with each processing step.\nThey are executed independent of each other."),Object(r.b)("h3",{id:"component-registration"},"Component registration:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-typescript"}),"var comp = new MyComponent();\n\neditor.register(comp);\nengine.register(comp);\n")),Object(r.b)("h2",{id:"node-builders"},"Node builders"),Object(r.b)("p",null,"The builders purpose is to modify the Node instance and is needed by the editor to restore the nodes JSON data.\nSince JSON data should only store static information, not the logic of the nodes."),Object(r.b)("p",null,"Each builder must be in the appropriate component:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-typescript"}),"class NumberComponent extends Naetverk.Component {\n  constructor() {\n    super('Number');\n  }\n\n  builder(node) {\n    // modify the node\n    node.data.num = 3;\n    node.addInput(new Rete.Input('key1', 'Number', numSocket));\n    node.addOutput(new Rete.Output('key2', 'Number', numSocket));\n  }\n}\n")),Object(r.b)("h2",{id:"node-workers"},"Node workers"),Object(r.b)("p",null,"A worker is a function for processing node data.\nThey get node parameters, inputs, outputs, and arguments passed during processing (optional).\nNode data (not an instance of a node), inputs and outputs correspond to the definitions in the builders (see above)."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-typescript"}),"class NumberComponent extends Naetverk.Component {\n  constructor() {\n    super('Number');\n  }\n\n  async worker(node, inputs, outputs) {\n    // inputs['key1']\n    outputs['key2'] = node.data.num;\n  }\n}\n")),Object(r.b)("p",null,"As you noticed, you can use asynchronous functions (or Promise for previous versions of ES). This is necessary to perform complex calculations without blocking the main thread (for example, in WebWorker)."))}p.isMDXComponent=!0},74:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return b}));var o=t(0),r=t.n(o);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),u=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=u(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=r.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(t),m=o,b=d["".concat(c,".").concat(m)]||d[m]||l[m]||a;return t?r.a.createElement(b,i(i({ref:n},p),{},{components:t})):r.a.createElement(b,i({ref:n},p))}));function b(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,c=new Array(a);c[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var p=2;p<a;p++)c[p]=t[p];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);